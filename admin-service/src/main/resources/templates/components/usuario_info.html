<div class="usuario_info" th:if="${usuario != null}">
    <!-- Foto del usuario -->
    <div class="usuario_foto_container">
        <img th:src="@{${usuario.rutaFoto}}" alt="Foto de usuario" class="usuario_foto">
    </div>

    <div class="usuario_form_container">
        <form class="usuario-info-container">
            <h2 contenteditable="true" class="editable cabin" th:text="${usuario.nombre + ' ' + usuario.apellido}"></h2>
            <p><strong>Miembro desde:</strong>
                <span
                    th:text="${usuario.fechaRegistro != null ? #temporals.format(usuario.fechaRegistro, 'dd MMMM yyyy') : 'No registrado'}"></span>
            </p>

            <p><strong>Email:</strong>
                <span contenteditable="true" class="editable" th:text="${usuario.email}"></span>
            </p>
            <p><strong>DNI:</strong>
                <span contenteditable="true" class="editable" th:text="${usuario.DNI}"></span>
            </p>
            <p th:if="${tipo == 'Empleado' and usuario.telefono != null}">
                <strong>Teléfono:</strong>
                <span contenteditable="true" class="editable" th:text="${usuario.telefono}"></span>
            </p>
            <p><strong>Estado:</strong>
                <span contenteditable="true" class="editable" th:text="${usuario.estado}"></span>
            </p>
            <p th:if="${tipo == 'Empleado'}">
                <strong>Rol:</strong>
                <span class="editable" th:text="${usuario.rolID}"></span>
            </p>
            <div class="usuario_acciones">
                <button type="submit" class="btn editar">Guardar cambios</button>
                <button type="button" class="btn eliminar">Eliminar</button>
                <button type="button" class="btn suspender">Suspender</button>
                <button type="button" class="btn mensaje">Enviar mensaje</button>
                <button type="button" class="btn volver" onclick="cerrarUsuarioInfo()">Volver a la lista</button>
            </div>
        </form>
    </div>
</div>

<style>
    .usuario_info {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        max-width: 900px;
        margin: auto auto;
        padding: 0;
        animation: fadeIn 0.4s ease-out; /* Duración de 0.5 segundos */
    }

    /* Foto */
    .usuario_foto_container {
        position: relative;
        width: 400px;
        height: 600px;
        border-radius: 20px;
        background: var(--color-gris-claro);
        z-index: 1;
        margin-right: -60px;
        display: flex;
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.4s ease-out; /* Duración de 0.5 segundos */
    }

    /* Formulario */
    .usuario_form_container {
        position: relative;
        width: 400px;
        height: 600px;
        border-radius: 20px;
        background: #fff;
        box-shadow: 0 12px 24px rgb(0 0 0 / 14%);
        z-index: 2;
        padding: 30px;
    }

    /* Foto circular */
    .usuario_foto {
        width: 280px;
        height: 280px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid var(--color-morado-suave);
        display: block;
        margin: 20px 60px 20px 0px;
    }

    /* Campos editables */
    .editable {
        padding: 2px 6px;
        border-radius: 6px;
        transition: background 0.2s, border 0.2s;
    }

    .editable:hover {
        background: #f4f4f4;
        cursor: text;
        border: 1px dashed #aaa;
    }

    /* Botones */
    .usuario_acciones {
        margin-top: 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
    }

    .btn {
        padding: 10px 18px;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        color: #fff;
        transition: background-color 0.2s ease, transform 0.1s ease;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    .btn:hover {
        transform: translateY(-2px);
    }

    .btn.editar {
        background-color: var(--color-verde-oscuro);
    }

    .btn.eliminar {
        background-color: var(--color-vino)
    }

    .btn.suspender {
        background-color: var(--color-naranja);
    }

    .btn.mensaje {
        background-color: var(--color-cielo);
    }

    .btn.volver {
        background-color: var(--color-morado-suave);
    }

    .btn.editar:hover {
        background-color: #3e9440;
    }

    .btn.eliminar:hover {
        background-color: #c62828;
    }

    .btn.suspender:hover {
        background-color: #e68900;
    }

    .btn.mensaje:hover {
        background-color: #1976D2;
    }

    .btn.volver:hover {
        background-color: #8b6ac8;
    }

    /* Animación fadeIn */
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>

<script>
    document.querySelectorAll('.usuario_form_container p').forEach(function (p) {
        p.classList.add('league-spartan');
    });
    document.querySelectorAll('.usuario_form_container p span').forEach(function (span) {
        span.classList.add('cabin');  /* Corregido para que se añada la clase "cabin" correctamente */
    });
</script>
